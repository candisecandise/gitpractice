<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Document</title>
  <script type="text/javascript" src="../js/jquery-1.11.3.min.js"></script>
  <script src="../vue-2.5.17/dist/vue.js"></script>
  <script src="../js/echarts.min.js"></script>
  <script src="../js/layui/layui.js"></script>
  <script src="../js/axios/dist/axios.js"></script>
  <link rel="stylesheet" href="../js/layui/css/layui.css">
  <link rel="stylesheet" href="css/common.css" />
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_984814_kwonahz8zrd.css">
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <script src="js/common.js"></script>
  <style>
    .el-progress path:first-child {
      stroke: #47a2ff;
    }
    .aa{
      height: 34px;
      line-height: 34px;
    }
    .aa i{
      font-size: 12px;
      color: #999
    }
  </style>
</head>

<body>
  <div id="app">
    <div>
      <el-progress type="circle" :percentage="this.alarm / this.total * 100" status="text" color="#fa8564"
        :stroke-width="10" :width="68" style="float:left">
        <i class="iconfont icon-gaojing" :style="{color:this.alarm == 0 ? '#cccccc' : '#fa8564',fontSize:'40px'}"></i>
      </el-progress>

      <p class="aa"><i>总数</i>{{this.total}}</p>
      <p class="aa"><i>总数</i>{{this.alarm}}</p>

    </div>
    <div>{{this.test1}}</div>
    <div>{{this.test2}}</div>
  </div>
  <script>
    function bytesToSize(bytes) {
      if (bytes === 0) return '0 B';
      var k = 1024, // or 1024
        sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],
        i = Math.floor(Math.log(bytes) / Math.log(k));

      return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];
    }

    function formatFileSize(fileSize) {
      if (fileSize < 1024) {
        return fileSize + 'B';
      } else if (fileSize < (1024 * 1024)) {
        var temp = fileSize / 1024;
        temp = temp.toFixed(2);
        return temp + 'KB';
      } else if (fileSize < (1024 * 1024 * 1024)) {
        var temp = fileSize / (1024 * 1024);
        temp = temp.toFixed(2);
        return temp + 'MB';
      } else {
        var temp = fileSize / (1024 * 1024 * 1024);
        temp = temp.toFixed(2);
        return temp + 'GB';
      }
    }
    var app = new Vue({
      el: '#app',
      data: {
        total: 1000,
        alarm: 200,
        test1: 10240000,
        test2: 10240000
      },
      computed: {
        // percent: function () {
        //   var val = this.alarm / this.total * 100
        //   console.log(val)
        //   return val
        // }
        alarmColor: function () {
          return this.alarm == 0 ? '#cccccc' : '#fa8564'
        }
      },
      mounted() {
        this.test1 = bytesToSize(this.test1);
        this.test2 = formatFileSize(this.text1);
      }
    })
  </script>
</body>