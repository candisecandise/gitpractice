<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Document</title>
  <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
  <script src="vue-2.5.17/dist/vue.js"></script>
  <script src="js/echarts.min.js"></script>
  <script src="js/world.js"></script>
  <link rel="stylesheet" href="css/common.css" />
</head>

<body>
  <div id="app" class="main">
    <div id="map"></div>
    <div class="sort-table">
      <div class="stitle">
        <i class="chart-control">></i><span>{{ linkdatas.title }}</span>
      </div>
      <div class="sort-info">
        <div class="sort-type">
          <span class="chooses">国家</span><span>单位</span>
        </div>
        <div class="htable">
          <table>
            <thead>
              <tr>
                <td width="50%">名称</td>
                <td width="50%">连接数</td>
              </tr>
            </thead>
          </table>
          <div class="btable btable1">
            <table>
              <thead>
                <tr>
                  <td width="50%"></td>
                  <td width="50%"></td>
                </tr>
              </thead>
              <tbody>
                <tr is="mytable" v-for="countrylink in linkdatas.countrylinks" v-bind:name="countrylink.name"
                  v-bind:value="countrylink.value"></tr>
              </tbody>
            </table>
          </div>
        </div>
        <div id="linkpie" style="width: 100%;height: 176px"></div>
      </div>
    </div>
  </div>
</body>
<script>
  Vue.component('mytable', {
    props: ['name', 'value'],
    template: '<tr><td>{{name}}</td><td>{{value}}</td></tr>'
  })
  var app = new Vue({
    el: '#app',
    data: {
      linkdatas: '',
      // departmentlinks: []
    },
    mounted() {
      this.$nextTick(function () {
        var that = this
        $.ajax({
          type: 'get',
          url: 'link.json',
          dataType: 'json',
          success: function (data) {
            that.linkdatas = data.linkdatas

          }
        })
      })
    }
  })
</script>
<script src="js/map.js"></script>

</html>